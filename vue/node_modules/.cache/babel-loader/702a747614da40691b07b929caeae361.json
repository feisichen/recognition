{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"bg\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = {\n  style: {\n    \"display\": \"flex\"\n  }\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"下载\");\n\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"el-upload__text\"\n}, [/*#__PURE__*/_createTextVNode(\" 拖到这里 /\"), /*#__PURE__*/_createElementVNode(\"em\", null, \"点击上传\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"el-upload__tip\"\n}, \" jpg/png files with a size less than 500kb \", -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = {\n  style: {\n    \"white-space\": \"pre-wrap\",\n    \"margin\": \"50px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_Plus = _resolveComponent(\"Plus\");\n\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n\n  const _component_el_upload = _resolveComponent(\"el-upload\");\n\n  const _component_el_card = _resolveComponent(\"el-card\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createVNode(_component_el_button, {\n    onClick: $options.upload\n  }, null, 8\n  /* PROPS */\n  , [\"onClick\"]), _createVNode(_component_el_card, {\n    class: \"upcard\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_button, {\n      onClick: $options.downloadTxt\n    }, {\n      default: _withCtx(() => [_hoisted_3]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"onClick\"]), _createVNode(_component_el_upload, {\n      class: \"upload-demo\",\n      drag: \"\",\n      action: \"http://localhost:9090/file/upload\",\n      \"on-success\": $options.handleAvatarSuccess,\n      \"list-type\": \"picture\",\n      multiple: \"\"\n    }, {\n      tip: _withCtx(() => [_hoisted_5]),\n      default: _withCtx(() => [_createVNode(_component_el_icon, {\n        class: \"el-icon--upload\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_Plus)]),\n        _: 1\n        /* STABLE */\n\n      }), _hoisted_4]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"on-success\"]), _createElementVNode(\"div\", _hoisted_6, _toDisplayString($data.word), 1\n    /* TEXT */\n    )])]),\n    _: 1\n    /* STABLE */\n\n  })], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","class","style","_hoisted_1","_createVNode","_component_el_button","onClick","$options","_component_el_card","_component_el_upload","drag","action","multiple","tip","_hoisted_5","_component_el_icon","_component_Plus","_hoisted_4","_toDisplayString","$data"],"sourceRoot":"","sources":["E:\\code\\springboot+vue\\class_choose_book1\\vue\\src\\views\\Recognition.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg\"></div>\r\n  <el-button @click=\"upload\"></el-button>\r\n  <el-card class=\"upcard\">\r\n    <div style=\"display: flex\">\r\n      <el-button @click=\"downloadTxt\">下载</el-button>\r\n    <el-upload\r\n        class=\"upload-demo\"\r\n        drag\r\n        action=\"http://localhost:9090/file/upload\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        list-type=\"picture\"\r\n        multiple\r\n    >\r\n      <el-icon class=\"el-icon--upload\"><Plus/></el-icon>\r\n      <div class=\"el-upload__text\">\r\n        拖到这里 /<em>点击上传</em>\r\n      </div>\r\n      <template #tip>\r\n        <div class=\"el-upload__tip\">\r\n          jpg/png files with a size less than 500kb\r\n        </div>\r\n      </template>\r\n    </el-upload>\r\n    <div style=\"white-space: pre-wrap;margin: 50px\">{{word}}</div>\r\n    </div>\r\n  </el-card>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport {Plus} from '@element-plus/icons-vue';\r\nimport request from \"@/utils/request\";\r\nimport { filesaver } from 'file-saver';\r\n\r\nexport default {\r\n  name: \"recognition\",\r\n  components: {Plus},\r\n  data() {\r\n    return {\r\n      url: \"\",\r\n      path:'',\r\n      deskpath:'',\r\n      word:[],\r\n      number:1,\r\n    }\r\n  },\r\n  methods:{\r\n    downloadTxt() {\r\n      let str = this.word;\r\n      let strData = new Blob([str], { type: 'text/plain;charset=utf-8' });\r\n      saveAs(strData, \"翻译文件.txt\");\r\n    },\r\n    upload() {\r\n      console.log(this.deskpath)\r\n      request.get(\"/book/recognize\", {\r\n        params: {\r\n          path:this.deskpath\r\n        }\r\n      }).then(res => {\r\n        console.log(res);\r\n\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"上传成功\"\r\n          })\r\n          console.log(res.data[9])\r\n          this.word = this.word  +'['+ this.number+']:';\r\n          this.word = this.word  + res.data;\r\n          this.word = this.word  +'\\n';\r\n          this.number++;\r\n\r\n        } else {\r\n          this.$message({\r\n            type: \"warning\",\r\n            message: res.msg\r\n          })\r\n        }\r\n      })\r\n    },\r\n    handleAvatarSuccess(res)\r\n    {\r\n      this.url = res;\r\n      console.log(this.url);\r\n      this.path = this.url.split('/');\r\n      this.deskpath = 'E:/code/springboot+vue/class_choose_book1/vue/public/image/' + this.path[4];\r\n      console.log(this.deskpath);\r\n      this.upload();\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.upcard{\r\n  align-content: center;\r\n  background-color: wheat;\r\n  width: 80%;\r\n  min-height: 550px;\r\n  height: 100%;\r\n  opacity: 0.8;\r\n  border-radius: 30px;\r\n  margin: 50px 0 60px 60px;\r\n\r\n\r\n  /* 为其整体设置接近透明的效果*/\r\n  background-color: #ffffff;\r\n  /* 设置box-shadow使其有立体感 */\r\n  /*box-shadow: 5px 5px 0 0 rgba(0, 0, 0, 1);*/\r\n\r\n  padding: 0 50px;\r\n}\r\n.bg {\r\n  width: 100%;\r\n  height: 580px;\r\n  background-color: #ffffff;\r\n  position: absolute;\r\n  margin-top: 58px;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: -1;\r\n  background-size: 100% 522px;\r\n  min-width: 1000px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}