{"ast":null,"code":"import request from \"@/utils/request\";\nimport flipPage from \"vue-flip-page\";\nexport default {\n  name: \"read\",\n  components: {},\n\n  data() {\n    return {\n      id: sessionStorage.getItem(\"id\"),\n      tableData: [],\n      search: '',\n      // 用于录入平时成绩和期末成绩暂存当前字段\n      row: {},\n      bReady: true,\n      iNow: 0,\n      oBox: \"\",\n      oPage: \"\",\n      oPage2: \"\",\n      oFront: \"\",\n      oBack: \"\"\n    };\n  },\n\n  methods: {\n    turningPage() {\n      /* 我们先获取一下需要用到的页面中的元素 */\n\n      /* 定义一个变量this.iNow，这儿里是方便后续页面拉回与换图操作 */\n      this.iNow = 0;\n      /* 这里定义一个变量，当页面点击后赋值成false,防止“麒麟臂”大神无限点击翻页。\r\n      判断当运动完成后赋值为true */\n\n      this.bReady = true;\n      /* 给box加一个点击事件，进行翻页 */\n\n      this.oBox.onclick = function () {\n        /* 我们判断下，如果上次运动没结束就不能再开启新的运动，防止“撞车” */\n        if (this.bReady == false) return;\n        this.bReady = false;\n        /* 这里我们将this.iNow的值进行++，我因为我们翻页了，所有图自然的就会加1 */\n\n        this.iNow++;\n        /* 设置翻页的运动时间运动形式等参数 */\n\n        this.oPage.style.transition = '1s all ease';\n        /* 翻页操作 */\n\n        this.oPage.style.WebkitTransform = 'perspective(800px) rotateY(-180deg)';\n        /* 这里说明一下“webkitTransitionEnd”为运动完成之后可触发的事件 */\n\n        this.oPage.addEventListener('webkitTransitionEnd', () => {\n          /* 这里当运动完成后我们进行拉回操作，将page的运动时间等设置为none，\r\n             // 并将翻页角度改为原来的0° */\n          this.oPage.style.transition = 'none';\n          this.oPage.style.WebkitTransform = 'perspective(800px) rotateY(0deg)';\n          /* 下面我就行换图操作 */\n\n          /* box的图为this.iNow%3,为啥模3呢，因为我们有三张图，如果你有八张图就模8 */\n\n          this.oBox.style.background = `url(${require('../assets/' + this.iNow % 3 + '.png')}) no-repeat`;\n          this.oFront.style.background = `url(${require('../assets/' + this.iNow % 3 + '.png')})right top no-repeat`;\n          /* 这里因为back和page2组合成同一张图，且他们比box和fron组合成的图永远多1，所以这里就是(this.iNow+1)%3 */\n\n          this.oBack.style.background = `url(${require('../assets/' + (this.iNow + 1) % 3 + '.png')}) no-repeat`;\n          this.oPage2.style.background = `url(${require('../assets/' + (this.iNow + 1) % 3 + '.png')})right top no-repeat`;\n          this.bReady = true;\n          /* 这里我们所有的运动都完成后就将this.bReady赋值 为true*/\n        }, false);\n      };\n    }\n\n  },\n\n  mounted() {\n    this.oBox = document.getElementById('box');\n    this.oPage = document.querySelector('.page');\n    this.oPage2 = document.querySelector('.page2');\n    this.oFront = document.querySelector('.front');\n    this.oBack = document.querySelector('.back');\n  }\n\n};","map":{"version":3,"mappings":"AAqBA,OAAOA,OAAP,MAAoB,iBAApB;AACA,OAAOC,QAAP,MAAqB,eAArB;AAEA,eAAe;AACbC,MAAI,EAAE,MADO;AAEbC,YAAU,EAAE,EAFC;;AAGbC,MAAI,GAAG;AACL,WAAO;AACLC,QAAE,EAAEC,cAAc,CAACC,OAAf,CAAuB,IAAvB,CADC;AAELC,eAAS,EAAE,EAFN;AAGLC,YAAM,EAAE,EAHH;AAIL;AACAC,SAAG,EAAE,EALA;AAMLC,YAAM,EAAE,IANH;AAOLC,UAAI,EAAE,CAPD;AAQLC,UAAI,EAAE,EARD;AASLC,WAAK,EAAE,EATF;AAULC,YAAM,EAAE,EAVH;AAWLC,YAAM,EAAE,EAXH;AAYLC,WAAK,EAAE;AAZF,KAAP;AAgBD,GApBY;;AAqBbC,SAAO,EAAE;AACPC,eAAW,GAAG;AAEZ;;AAEA;AACA,WAAKP,IAAL,GAAY,CAAZ;AACA;;;AAEA,WAAKD,MAAL,GAAc,IAAd;AACA;;AACA,WAAKE,IAAL,CAAUO,OAAV,GAAoB,YAAU;AAC9B;AACA,YAAI,KAAKT,MAAL,IAAe,KAAnB,EAA0B;AAC1B,aAAKA,MAAL,GAAc,KAAd;AACA;;AACA,aAAKC,IAAL;AACA;;AACA,aAAKE,KAAL,CAAWO,KAAX,CAAiBC,UAAjB,GAA8B,aAA9B;AACA;;AACA,aAAKR,KAAL,CAAWO,KAAX,CAAiBE,eAAjB,GAAmC,qCAAnC;AACA;;AACA,aAAKT,KAAL,CAAWU,gBAAX,CAA4B,qBAA5B,EAAmD,MAAM;AACvD;;AAEA,eAAKV,KAAL,CAAWO,KAAX,CAAiBC,UAAjB,GAA8B,MAA9B;AACA,eAAKR,KAAL,CAAWO,KAAX,CAAiBE,eAAjB,GAAmC,kCAAnC;AACA;;AACA;;AACA,eAAKV,IAAL,CAAUQ,KAAV,CAAgBI,UAAhB,GAA8B,OAAMC,OAAO,CAAC,eAAc,KAAKd,IAAL,GAAU,CAAxB,GAA2B,MAA5B,CAAoC,aAA/E;AACA,eAAKI,MAAL,CAAYK,KAAZ,CAAkBI,UAAlB,GAAgC,OAAMC,OAAO,CAAC,eAAc,KAAKd,IAAL,GAAU,CAAxB,GAA2B,MAA5B,CAAoC,sBAAjF;AACA;;AACA,eAAKK,KAAL,CAAWI,KAAX,CAAiBI,UAAjB,GAA+B,OAAMC,OAAO,CAAC,eAAc,CAAC,KAAKd,IAAL,GAAU,CAAX,IAAc,CAA5B,GAA+B,MAAhC,CAAwC,aAApF;AACA,eAAKG,MAAL,CAAYM,KAAZ,CAAkBI,UAAlB,GAAgC,OAAMC,OAAO,CAAC,eAAc,CAAC,KAAKd,IAAL,GAAU,CAAX,IAAc,CAA5B,GAA+B,MAAhC,CAAwC,sBAArF;AACA,eAAKD,MAAL,GAAc,IAAd;AACA;AACD,SAdD,EAcG,KAdH;AAeE,OA1BF;AA2BD;;AAtCM,GArBI;;AA6DXgB,SAAO,GAAG;AACR,SAAKd,IAAL,GAAYe,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAAZ;AACA,SAAKf,KAAL,GAAac,QAAQ,CAACE,aAAT,CAAuB,OAAvB,CAAb;AACA,SAAKf,MAAL,GAAca,QAAQ,CAACE,aAAT,CAAuB,QAAvB,CAAd;AACA,SAAKd,MAAL,GAAcY,QAAQ,CAACE,aAAT,CAAuB,QAAvB,CAAd;AACA,SAAKb,KAAL,GAAaW,QAAQ,CAACE,aAAT,CAAuB,OAAvB,CAAb;AAEF;;AApEW,CAAf","names":["request","flipPage","name","components","data","id","sessionStorage","getItem","tableData","search","row","bReady","iNow","oBox","oPage","oPage2","oFront","oBack","methods","turningPage","onclick","style","transition","WebkitTransform","addEventListener","background","require","mounted","document","getElementById","querySelector"],"sourceRoot":"","sources":["E:\\code\\springboot+vue\\class_choose_book1\\vue\\src\\views\\Read.vue"],"sourcesContent":["<!--<template>-->\r\n<!--&lt;!&ndash;    <div class=\"home\">&ndash;&gt;-->\r\n<!--&lt;!&ndash;      <button @click=\"changePage\">翻页</button>&ndash;&gt;-->\r\n<!--&lt;!&ndash;      <flipPage ref=\"thePage\" :data=\"data\" :width=\"pWidth\" :height=\"pHeight\"></flipPage>&ndash;&gt;-->\r\n<!--&lt;!&ndash;    </div>&ndash;&gt;-->\r\n<!--  <div>这里是第{{id}}本书的内容</div>-->\r\n<!--</template>-->\r\n<template>\r\n  <!-- /* box为整个页面展示区 */ -->\r\n  <div id=\"box\" @click=\"turningPage\">\r\n    <div class=\"page\">\r\n      <div class=\"front\"></div>\r\n      <div class=\"back\"></div>\r\n    </div>\r\n    <div class=\"page2\"></div>\r\n  </div>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport flipPage from \"vue-flip-page\";\r\n\r\nexport default {\r\n  name: \"read\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      id: sessionStorage.getItem(\"id\"),\r\n      tableData: [],\r\n      search: '',\r\n      // 用于录入平时成绩和期末成绩暂存当前字段\r\n      row: {},\r\n      bReady: true,\r\n      iNow: 0,\r\n      oBox: \"\",\r\n      oPage: \"\",\r\n      oPage2: \"\",\r\n      oFront: \"\",\r\n      oBack: \"\",\r\n\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    turningPage() {\r\n\r\n      /* 我们先获取一下需要用到的页面中的元素 */\r\n\r\n      /* 定义一个变量this.iNow，这儿里是方便后续页面拉回与换图操作 */\r\n      this.iNow = 0;\r\n      /* 这里定义一个变量，当页面点击后赋值成false,防止“麒麟臂”大神无限点击翻页。\r\n      判断当运动完成后赋值为true */\r\n      this.bReady = true;\r\n      /* 给box加一个点击事件，进行翻页 */\r\n      this.oBox.onclick = function(){\r\n      /* 我们判断下，如果上次运动没结束就不能再开启新的运动，防止“撞车” */\r\n      if (this.bReady == false) return;\r\n      this.bReady = false;\r\n      /* 这里我们将this.iNow的值进行++，我因为我们翻页了，所有图自然的就会加1 */\r\n      this.iNow++;\r\n      /* 设置翻页的运动时间运动形式等参数 */\r\n      this.oPage.style.transition = '1s all ease';\r\n      /* 翻页操作 */\r\n      this.oPage.style.WebkitTransform = 'perspective(800px) rotateY(-180deg)';\r\n      /* 这里说明一下“webkitTransitionEnd”为运动完成之后可触发的事件 */\r\n      this.oPage.addEventListener('webkitTransitionEnd', () => {\r\n        /* 这里当运动完成后我们进行拉回操作，将page的运动时间等设置为none，\r\n           // 并将翻页角度改为原来的0° */\r\n        this.oPage.style.transition = 'none';\r\n        this.oPage.style.WebkitTransform = 'perspective(800px) rotateY(0deg)';\r\n        /* 下面我就行换图操作 */\r\n        /* box的图为this.iNow%3,为啥模3呢，因为我们有三张图，如果你有八张图就模8 */\r\n        this.oBox.style.background = `url(${require('../assets/'+(this.iNow%3)+'.png')}) no-repeat`;\r\n        this.oFront.style.background = `url(${require('../assets/'+(this.iNow%3)+'.png')})right top no-repeat`;\r\n        /* 这里因为back和page2组合成同一张图，且他们比box和fron组合成的图永远多1，所以这里就是(this.iNow+1)%3 */\r\n        this.oBack.style.background = `url(${require('../assets/'+((this.iNow+1)%3)+'.png')}) no-repeat`;\r\n        this.oPage2.style.background = `url(${require('../assets/'+((this.iNow+1)%3)+'.png')})right top no-repeat`;\r\n        this.bReady = true;\r\n        /* 这里我们所有的运动都完成后就将this.bReady赋值 为true*/\r\n      }, false);\r\n       };\r\n    },\r\n  },\r\n    mounted() {\r\n      this.oBox = document.getElementById('box')\r\n      this.oPage = document.querySelector('.page')\r\n      this.oPage2 = document.querySelector('.page2')\r\n      this.oFront = document.querySelector('.front')\r\n      this.oBack = document.querySelector('.back')\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n</script>\r\n<style>\r\n#box {\r\n  background: url(\"../assets/0.png\") no-repeat;\r\n  width: 700px;\r\n  height: 400px;\r\n  /* 此处是为了让Box在中间显示 */\r\n  margin: 100px auto;\r\n  position: relative;\r\n}\r\n\r\n/* 设定page的位置 */\r\n#box .page {\r\n  /* 因为其在展示区右侧，所以宽度为整个box的一般，并定在右侧 */\r\n  width: 50%;\r\n  height: 100%;\r\n  top: 0;\r\n  right: 0;\r\n  position: absolute;\r\n  /* 将开启3d空间，方便翻页后front和back的3d变换 */\r\n  transform-style: preserve-3d;\r\n  /* 奇点设为左边 */\r\n  transform-origin: left center;\r\n  /* 设置翻书（旋转）的运动时间，运动形式 */\r\n  transition: 1s all ease;\r\n  /* 提升层级否则会被盖住 */\r\n  z-index: 2;\r\n  /* 设置景深来更好的展示3D效果，并给旋转角度一个初始值，防止抖动发生 */\r\n  transform: perspective(800px) rotateY(0deg);\r\n}\r\n\r\n/* 配置旋转页的前页 */\r\n.page .front {\r\n  /* 宽高与父级page一样 */\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  /* 将背景设成为与前一页相同的背景,并且只要右面的那部分，与页面左部分拼接 */\r\n  background: url(\"../assets/0.png\") right top no-repeat;\r\n  /* backface-visibility属性和3D transform效果相关，它决定当一个元素的背面面是否可见 */\r\n  backface-visibility: hidden;\r\n  /* 提升层级否则会被盖住 */\r\n  z-index: 2;\r\n}\r\n\r\n/* 配置旋转页的后页 */\r\n.page .back {\r\n  /* 宽高与父级page一样 */\r\n  width: 100%;\r\n  height: 100%;\r\n  /* 将背景设成为与下一页相同的背景,并且只要左面的那部分，与右部分的page2拼接 */\r\n  background: url(\"../assets/1.png\") left top no-repeat;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  /* 这里设置将back进行水平方向上的镜像变化，因为当page旋转180°后， back显示的效果不对*/\r\n  transform: scale(-1, 1);\r\n  /* 改变层级避免盖住其他页面 */\r\n  z-index: 1;\r\n}\r\n\r\n/* 配置pages展示区 */\r\n#box .page2 {\r\n  /* 因为其只在页面右侧展示所以宽为Box的一半 */\r\n  width: 50%;\r\n  height: 100%;\r\n  top: 0;\r\n  right: 0;\r\n  position: absolute;\r\n  /* 将背景设成为与下一页相同的背景,并且只要右面的那部分，与左部分（.page .back）拼接 */\r\n  background: url(\"../assets/1.png\") right top no-repeat;\r\n  /* 改变层级避免盖住其他页面 */\r\n  z-index: 1;\r\n}\r\n\r\n#box:before {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 0%;\r\n  right: 0%;\r\n  width: 0px;\r\n  height: 0px;\r\n  background: #fff linear-gradient(225deg, #ffffffD1 45%, #d2d2d2 50%, #cacaca 56%, #ffffffd9 80%);\r\n  -webkit-box-shadow: -1px 1px 1px #f0f0f0;\r\n  box-shadow: 3px 7px 15px #d8d8d8;\r\n  -webkit-transition-duration: 0.3s;\r\n  transition-duration: 0.3s;\r\n  -webkit-transition-property: width, height;\r\n  transition-property: width, height;\r\n  z-index: 20;\r\n}\r\n\r\n#box:hover:before {\r\n  width: 100px;\r\n  height: 100px;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}