{"ast":null,"code":"import { ArrowDown } from '@element-plus/icons-vue'; //图标而已\n\nimport { User } from '@element-plus/icons-vue';\nimport { Search } from '@element-plus/icons-vue'; // import request from \"@/utils/request\";\n\nexport default {\n  name: \"Header\",\n  components: {\n    ArrowDown,\n    User,\n    Search\n  },\n\n  data() {\n    return {\n      currentUser: sessionStorage.getItem(\"currentName\"),\n      departmentName: sessionStorage.getItem(\"currentDepName\"),\n      dialogVisible: false,\n      form: {},\n      search: ''\n    };\n  },\n\n  methods: {\n    changePwd() {\n      this.form = {};\n      this.form.id = sessionStorage.getItem(\"currentId\");\n      this.form.name = sessionStorage.getItem(\"currentName\");\n      this.dialogVisible = true;\n    },\n\n    update() {\n      if (this.form.password != this.form.confirm) {\n        this.$message({\n          type: \"error\",\n          message: \"两次密码不一致，请重新输入\"\n        });\n        this.form.password = \"\";\n        this.form.confirm = \"\";\n        return;\n      }\n\n      if (this.form.id.length == 8) {\n        // 学生修改密码\n        request.put(\"/student\", this.form).then(res => {\n          if (res.code === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"修改成功\"\n            });\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg\n            });\n          }\n        });\n      } else {\n        // 教师修改密码\n        request.put(\"/teacher\", this.form).then(res => {\n          if (res.code === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"修改成功\"\n            });\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg\n            });\n          }\n        });\n      }\n\n      this.dialogVisible = false;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyDA,SAAQA,SAAR,QAAwB,yBAAxB,C,CACA;;AACA,SAAQC,IAAR,QAAmB,yBAAnB;AACA,SAAQC,MAAR,QAAqB,yBAArB,C,CAEA;;AAEA,eAAe;AACbC,MAAI,EAAE,QADO;AAEbC,YAAU,EAAE;AACVJ,aADU;AAEVC,QAFU;AAGVC;AAHU,GAFC;;AAObG,MAAI,GAAG;AACL,WAAO;AACLC,iBAAW,EAAEC,cAAc,CAACC,OAAf,CAAuB,aAAvB,CADR;AAELC,oBAAc,EAAEF,cAAc,CAACC,OAAf,CAAuB,gBAAvB,CAFX;AAGLE,mBAAa,EAAE,KAHV;AAILC,UAAI,EAAE,EAJD;AAKLC,YAAM,EAAC;AALF,KAAP;AAQD,GAhBY;;AAiBbC,SAAO,EAAE;AACPC,aAAS,GAAG;AACV,WAAKH,IAAL,GAAY,EAAZ;AACA,WAAKA,IAAL,CAAUI,EAAV,GAAeR,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAf;AACA,WAAKG,IAAL,CAAUR,IAAV,GAAiBI,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAjB;AACA,WAAKE,aAAL,GAAqB,IAArB;AACD,KANM;;AAOPM,UAAM,GAAG;AACP,UAAI,KAAKL,IAAL,CAAUM,QAAV,IAAsB,KAAKN,IAAL,CAAUO,OAApC,EAA6C;AAC3C,aAAKC,QAAL,CAAc;AACZC,cAAI,EAAE,OADM;AAEZC,iBAAO,EAAE;AAFG,SAAd;AAIA,aAAKV,IAAL,CAAUM,QAAV,GAAqB,EAArB;AACA,aAAKN,IAAL,CAAUO,OAAV,GAAoB,EAApB;AACA;AACF;;AACA,UAAI,KAAKP,IAAL,CAAUI,EAAV,CAAaO,MAAb,IAAuB,CAA3B,EAA8B;AAAE;AAC9BC,eAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB,KAAKb,IAA7B,EAAmCc,IAAnC,CAAwCC,GAAE,IAAK;AAC7C,cAAIA,GAAG,CAACC,IAAJ,KAAa,GAAjB,EAAsB;AACpB,iBAAKR,QAAL,CAAc;AACZC,kBAAI,EAAE,SADM;AAEZC,qBAAO,EAAE;AAFG,aAAd;AAIF,WALA,MAKO;AACL,iBAAKF,QAAL,CAAc;AACZC,kBAAI,EAAE,OADM;AAEZC,qBAAO,EAAEK,GAAG,CAACE;AAFD,aAAd;AAIF;AACD,SAZD;AAaF,OAdA,MAcO;AAAE;AACPL,eAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB,KAAKb,IAA7B,EAAmCc,IAAnC,CAAwCC,GAAE,IAAK;AAC7C,cAAIA,GAAG,CAACC,IAAJ,KAAa,GAAjB,EAAsB;AACpB,iBAAKR,QAAL,CAAc;AACZC,kBAAI,EAAE,SADM;AAEZC,qBAAO,EAAE;AAFG,aAAd;AAIF,WALA,MAKO;AACL,iBAAKF,QAAL,CAAc;AACZC,kBAAI,EAAE,OADM;AAEZC,qBAAO,EAAEK,GAAG,CAACE;AAFD,aAAd;AAIF;AACD,SAZD;AAaF;;AACA,WAAKlB,aAAL,GAAqB,KAArB;AACF;;AA/CO;AAjBI,CAAf","names":["ArrowDown","User","Search","name","components","data","currentUser","sessionStorage","getItem","departmentName","dialogVisible","form","search","methods","changePwd","id","update","password","confirm","$message","type","message","length","request","put","then","res","code","msg"],"sourceRoot":"","sources":["E:\\code\\springboot+vue\\class_choose_book\\vue\\src\\components\\Header.vue"],"sourcesContent":["\n<template>\n  <el-menu\n      router\n      default-active=\"/home\"\n      class=\"el-menu-demo\"\n      mode=\"horizontal\"\n      background-color=\"rgba(255,255,255,0)\"\n      text-color=\"#fff\"\n      active-text-color=\"#ffd04b\"\n      @select=\"handleSelect\"\n      style=\"border:0!important;\"\n\n  >\n    <div style=\"margin: auto\"></div>\n    <el-menu-item  style=\"color:#ffd04b;font-size: 24px;\">古籍识别平台</el-menu-item>\n    <el-menu-item index=\"/\" style=\"font-size: large;\">首页</el-menu-item>\n    <el-menu-item index=\"/Book\" style=\"font-size: large;\">书库</el-menu-item>\n    <!--      <el-sub-menu index=\"2\">-->\n    <!--        <template #title >书库</template>-->\n    <!--        <el-menu-item index=\"2-1\">item one</el-menu-item>-->\n    <!--        <el-menu-item index=\"2-2\">item two</el-menu-item>-->\n    <!--        <el-menu-item index=\"2-3\">item three</el-menu-item>-->\n    <!--      </el-sub-menu>-->\n    <el-menu-item index=\"/aboutview\" style=\"font-size: large;\">关于我们</el-menu-item>\n    <el-row style=\" margin:auto\">\n      <el-input v-model=\"search\" placeholder=\"Please input\" class=\"searchinput\" />\n<!--      <el-button @click=\"search\" icon=\"Search\" size=\"normal\" circle>-->\n<!--      </el-button>-->\n      <el-button\n          key=\"搜索\"\n          text\n      ></el-button\n      >\n    </el-row>\n<!--    <el-button style=\"margin:1px 10px;height: auto; \" @click=\"search\">搜索</el-button>-->\n    <el-icon style=\"margin:1px 1px;height: auto;font-size: larger;color: #ffffff\" >\n      <User/>\n    </el-icon>\n    <el-button color=\"#ffd04b\" style=\"margin:13px 10px; height: auto; border-radius:30px;\">登陆</el-button>\n    <el-button color=\"#ffd04b\" style=\"margin:13px 10px; height: auto; border-radius:30px;\">注册</el-button>\n    <!--      <el-sub-menu index=\"8\" style=\"margin-left:auto;\">-->\n    <!--        <template #title>-->\n    <!--          <el-icon>-->\n    <!--          <User/>-->\n    <!--        </el-icon>-->\n    <!--        </template>-->\n    <!--        <el-menu-item index=\"2-3\" style=\"background-color:#ffd04b\">个人中心</el-menu-item>-->\n    <!--        <el-menu-item index=\"2-1\" style=\"background-color:#ffd04b\">修改密码</el-menu-item>-->\n    <!--        <el-menu-item index=\"2-2\" style=\"background-color:#ffd04b\">退出登陆</el-menu-item>-->\n    <!--      </el-sub-menu>-->\n    <div style=\"margin: auto\"></div>\n  </el-menu>\n</template>\n\n\n<script>\nimport {ArrowDown} from '@element-plus/icons-vue'\n//图标而已\nimport {User} from '@element-plus/icons-vue'\nimport {Search} from '@element-plus/icons-vue'\n\n// import request from \"@/utils/request\";\n\nexport default {\n  name: \"Header\",\n  components: {\n    ArrowDown,\n    User,\n    Search\n  },\n  data() {\n    return {\n      currentUser: sessionStorage.getItem(\"currentName\"),\n      departmentName: sessionStorage.getItem(\"currentDepName\"),\n      dialogVisible: false,\n      form: {},\n      search:'',\n\n    }\n  },\n  methods: {\n    changePwd() {\n      this.form = {}\n      this.form.id = sessionStorage.getItem(\"currentId\");\n      this.form.name = sessionStorage.getItem(\"currentName\");\n      this.dialogVisible = true;\n    },\n    update() {\n      if (this.form.password != this.form.confirm) {\n        this.$message({\n          type: \"error\",\n          message: \"两次密码不一致，请重新输入\"\n        })\n        this.form.password = \"\"\n        this.form.confirm = \"\"\n        return;\n      }\n      if (this.form.id.length == 8) { // 学生修改密码\n        request.put(\"/student\", this.form).then(res => {\n          if (res.code === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"修改成功\"\n            })\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg\n            })\n          }\n        })\n      } else { // 教师修改密码\n        request.put(\"/teacher\", this.form).then(res => {\n          if (res.code === '0') {\n            this.$message({\n              type: \"success\",\n              message: \"修改成功\"\n            })\n          } else {\n            this.$message({\n              type: \"error\",\n              message: res.msg\n            })\n          }\n        })\n      }\n      this.dialogVisible = false\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.searchinput{\n  width:130px;\n  border-radius:30px;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}