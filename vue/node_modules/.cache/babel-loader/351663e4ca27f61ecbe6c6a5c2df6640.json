{"ast":null,"code":"import { Plus } from '@element-plus/icons-vue';\nimport request from \"@/utils/request\";\nexport default {\n  name: \"recognition\",\n  components: {\n    Plus\n  },\n\n  data() {\n    return {\n      url: \"http://localhost:9090/file/0c1af17149bd42b79b13e10c51e6ff83.jpg\",\n      path: '',\n      deskpath: '',\n      word: []\n    };\n  },\n\n  methods: {\n    upload() {\n      console.log(this.deskpath);\n      request.get(\"/book/recognize\", {\n        params: {\n          path: this.deskpath\n        }\n      }).then(res => {\n        console.log(res);\n        console.log(\"111111111111\");\n\n        if (res.code === '0') {\n          this.$message({\n            type: \"success\",\n            message: \"上传成功\"\n          });\n          console.log(res.data[9]);\n          this.word = this.word + res.data;\n        } else {\n          this.$message({\n            type: \"warning\",\n            message: res.msg\n          });\n        }\n      });\n    },\n\n    handleAvatarSuccess(res) {\n      this.url = res;\n      console.log(this.url);\n      this.path = this.url.split('/');\n      this.deskpath = 'E:/code/springboot+vue/class_choose_book1/vue/public/image/' + this.path[4];\n      console.log(this.deskpath);\n      this.upload();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAEA,SAAQA,IAAR,QAAmB,yBAAnB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AAGA,eAAe;AACbC,EAAAA,IAAI,EAAE,aADO;AAEbC,EAAAA,UAAU,EAAE;AAACH,IAAAA;AAAD,GAFC;;AAGbI,EAAAA,IAAI,GAAG;AACL,WAAO;AACLC,MAAAA,GAAG,EAAE,iEADA;AAELC,MAAAA,IAAI,EAAC,EAFA;AAGLC,MAAAA,QAAQ,EAAC,EAHJ;AAILC,MAAAA,IAAI,EAAC;AAJA,KAAP;AAMD,GAVY;;AAWbC,EAAAA,OAAO,EAAC;AACNC,IAAAA,MAAM,GAAG;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,QAAjB;AACAN,MAAAA,OAAO,CAACY,GAAR,CAAY,iBAAZ,EAA+B;AAC7BC,QAAAA,MAAM,EAAE;AACNR,UAAAA,IAAI,EAAC,KAAKC;AADJ;AADqB,OAA/B,EAIGQ,IAJH,CAIQC,GAAG,IAAI;AACbL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;;AACA,YAAII,GAAG,CAACC,IAAJ,KAAa,GAAjB,EAAsB;AACpB,eAAKC,QAAL,CAAc;AACZC,YAAAA,IAAI,EAAE,SADM;AAEZC,YAAAA,OAAO,EAAE;AAFG,WAAd;AAIAT,UAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACZ,IAAJ,CAAS,CAAT,CAAZ;AACA,eAAKI,IAAL,GAAY,KAAKA,IAAL,GAAaQ,GAAG,CAACZ,IAA7B;AAED,SARD,MAQO;AACL,eAAKc,QAAL,CAAc;AACZC,YAAAA,IAAI,EAAE,SADM;AAEZC,YAAAA,OAAO,EAAEJ,GAAG,CAACK;AAFD,WAAd;AAID;AACF,OArBD;AAsBD,KAzBK;;AA0BNC,IAAAA,mBAAmB,CAACN,GAAD,EACnB;AACE,WAAKX,GAAL,GAAWW,GAAX;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,GAAjB;AACA,WAAKC,IAAL,GAAY,KAAKD,GAAL,CAASkB,KAAT,CAAe,GAAf,CAAZ;AACA,WAAKhB,QAAL,GAAgB,gEAAgE,KAAKD,IAAL,CAAU,CAAV,CAAhF;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,QAAjB;AACA,WAAKG,MAAL;AACD;;AAlCK;AAXK,CAAf","names":["Plus","request","name","components","data","url","path","deskpath","word","methods","upload","console","log","get","params","then","res","code","$message","type","message","msg","handleAvatarSuccess","split"],"sourceRoot":"","sources":["E:\\code\\springboot+vue\\class_choose_book2\\vue\\src\\views\\Recognition.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg\"></div>\r\n  <el-button @click=\"upload\"></el-button>\r\n  <el-card class=\"upcard\">\r\n    <div style=\"display: flex\">\r\n    <el-upload\r\n        class=\"upload-demo\"\r\n        drag\r\n        action=\"http://localhost:9090/file/upload\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        multiple\r\n    >\r\n      <el-icon class=\"el-icon--upload\"><Plus/></el-icon>\r\n      <div class=\"el-upload__text\">\r\n        拖到这里 /<em>点击上传</em>\r\n      </div>\r\n      <template #tip>\r\n        <div class=\"el-upload__tip\">\r\n          jpg/png files with a size less than 500kb\r\n        </div>\r\n      </template>\r\n    </el-upload>\r\n    <div style=\"white-space: pre-wrap;margin: 50px\">{{word}}</div>\r\n    </div>\r\n  </el-card>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport {Plus} from '@element-plus/icons-vue';\r\nimport request from \"@/utils/request\";\r\n\r\n\r\nexport default {\r\n  name: \"recognition\",\r\n  components: {Plus},\r\n  data() {\r\n    return {\r\n      url: \"http://localhost:9090/file/0c1af17149bd42b79b13e10c51e6ff83.jpg\",\r\n      path:'',\r\n      deskpath:'',\r\n      word:[],\r\n    }\r\n  },\r\n  methods:{\r\n    upload() {\r\n      console.log(this.deskpath)\r\n      request.get(\"/book/recognize\", {\r\n        params: {\r\n          path:this.deskpath\r\n        }\r\n      }).then(res => {\r\n        console.log(res);\r\n        console.log(\"111111111111\")\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"上传成功\"\r\n          })\r\n          console.log(res.data[9])\r\n          this.word = this.word  + res.data;\r\n\r\n        } else {\r\n          this.$message({\r\n            type: \"warning\",\r\n            message: res.msg\r\n          })\r\n        }\r\n      })\r\n    },\r\n    handleAvatarSuccess(res)\r\n    {\r\n      this.url = res;\r\n      console.log(this.url);\r\n      this.path = this.url.split('/');\r\n      this.deskpath = 'E:/code/springboot+vue/class_choose_book1/vue/public/image/' + this.path[4];\r\n      console.log(this.deskpath);\r\n      this.upload();\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.upcard{\r\n  align-content: center;\r\n  background-color: wheat;\r\n  width: 80%;\r\n  height: 550px;\r\n  opacity: 0.8;\r\n  border-radius: 30px;\r\n  margin: 50px 0 60px 60px;\r\n\r\n\r\n  /* 为其整体设置接近透明的效果*/\r\n  background-color: #ffffff;\r\n  /* 设置box-shadow使其有立体感 */\r\n  /*box-shadow: 5px 5px 0 0 rgba(0, 0, 0, 1);*/\r\n\r\n  padding: 0 50px;\r\n}\r\n.bg {\r\n  width: 100%;\r\n  height: 580px;\r\n  background-color: #ffffff;\r\n  position: absolute;\r\n  margin-top: 58px;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: -1;\r\n  background-size: 100% 522px;\r\n  min-width: 1000px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}